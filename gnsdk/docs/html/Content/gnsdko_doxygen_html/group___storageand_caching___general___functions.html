<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GNSDK C API Reference: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="html_titlebkg.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNSDK C API Reference
   &#160;<span id="projectnumber">3.2.0.422</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Functional&#160;Groupings</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___storageand_caching___general___functions.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions</div>  </div>
<div class="ingroups"><a class="el" href="group___storageand_caching___general.html">General</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaedc6ef12ba9e6ee33eb202462a235c9a"><td class="memItemLeft" align="right" valign="top">gnsdk_error_t GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___storageand_caching___general___functions.html#gaedc6ef12ba9e6ee33eb202462a235c9a">gnsdk_manager_storage_cleanup</a> (gnsdk_cstr_t storage_name, gnsdk_bool_t b_async)</td></tr>
<tr class="separator:gaedc6ef12ba9e6ee33eb202462a235c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a6f324952c2a20af22c83ae44352e36"><td class="memItemLeft" align="right" valign="top">gnsdk_error_t GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___storageand_caching___general___functions.html#ga8a6f324952c2a20af22c83ae44352e36">gnsdk_manager_storage_compact</a> (gnsdk_cstr_t storage_name, gnsdk_bool_t b_async)</td></tr>
<tr class="separator:ga8a6f324952c2a20af22c83ae44352e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf1702b74e05b26ab5d21b5354893212"><td class="memItemLeft" align="right" valign="top">gnsdk_error_t GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___storageand_caching___general___functions.html#gaaf1702b74e05b26ab5d21b5354893212">gnsdk_manager_storage_flush</a> (gnsdk_cstr_t storage_name, gnsdk_bool_t b_async)</td></tr>
<tr class="separator:gaaf1702b74e05b26ab5d21b5354893212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70fc6e23b6bb467d7e31a8685c24fa53"><td class="memItemLeft" align="right" valign="top">gnsdk_error_t GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___storageand_caching___general___functions.html#ga70fc6e23b6bb467d7e31a8685c24fa53">gnsdk_manager_storage_location_set</a> (gnsdk_cstr_t storage_name, gnsdk_cstr_t storage_location)</td></tr>
<tr class="separator:ga70fc6e23b6bb467d7e31a8685c24fa53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3739488be3c7509192f01feebf46b0e4"><td class="memItemLeft" align="right" valign="top">gnsdk_error_t GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___storageand_caching___general___functions.html#ga3739488be3c7509192f01feebf46b0e4">gnsdk_manager_storage_validate</a> (gnsdk_cstr_t storage_name, gnsdk_bool_t *p_valid)</td></tr>
<tr class="separator:ga3739488be3c7509192f01feebf46b0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade9386524c23f55f4a2494df8e3615a8"><td class="memItemLeft" align="right" valign="top">gnsdk_error_t GNSDK_API&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___storageand_caching___general___functions.html#gade9386524c23f55f4a2494df8e3615a8">gnsdk_manager_storage_version_get</a> (gnsdk_cstr_t storage_name, gnsdk_cstr_t *p_version)</td></tr>
<tr class="separator:gade9386524c23f55f4a2494df8e3615a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaedc6ef12ba9e6ee33eb202462a235c9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gnsdk_error_t GNSDK_API gnsdk_manager_storage_cleanup </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>storage_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_bool_t&#160;</td>
          <td class="paramname"><em>b_async</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function searches the existing local SDK cache and removes any records that are expired.</p>
<p>Operation</p>
<p>This API first decides if maintenance is required; this is determined by tracking when the next record expiration is needed.</p>
<p>Maintenance is always run the first time this API is called; any subsequent calls only perform maintenance if this is required. Consequently, calling this API multiple times does not result in excessive maintenance.</p>
<p>Storage Names</p>
<p>Currently there are three storages managed by the SDK: </p>
<ul>
<li>
The content cache, which stores cover art and related information <a class="el" href="group___storageand_caching___general___storage_i_ds.html#gadf88bd224aa0f89a634e102a2e30d5b0">GNSDK_MANAGER_STORAGE_CONTENTCACHE</a> </li>
<li>
The query cache, which stores media identification requests <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga9f6b3beb6076bded1fcc836c206cd007">GNSDK_MANAGER_STORAGE_QUERYCACHE</a> </li>
<li>
The list storage, which stores Gracenote's display lists <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga1c15b5b30aaed5c4b68687b7a96e41a2">GNSDK_MANAGER_STORAGE_LISTSCACHE</a> </li>
</ul>
<p>Use the appropriate name to perform this operation on the target storage. Each of these require a separate call to this API, with the name of the storage to on which to perform the maintenance.</p>
<p>Performance</p>
<p>If <code>b_async</code> is true and if maintenance is necessary, this API spawns a thread to perform the cleanup. This thread runs at the lowest priority to minimize the impact on other running queries or operations of the SDK.</p>
<p>This function can cause performance issues due to creating a large amount of disk I/O.</p>
<p>This operation can be performed on different storages at the same time, but note that performing multiple simultaneous calls will potentially further degrade performance.</p>
<p>Expired Records</p>
<p>Expired records are those older than the maximum allowable, even if the record has been recently read. Old but actively read records are removed because Gracenote Service may have an updated matching record.</p>
<p>The maximum allowable age of a record varies by query type and is managed internally by Gracenote. Applications can use <a class="el" href="group___setup___users___options.html#gaf8040bb6e6055b74d2d6f8986738a416">GNSDK_USER_OPTION_CACHE_EXPIRATION</a> to adjust the age at which records are expired.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_name</td><td>[in] Local storage name </td></tr>
    <tr><td class="paramname">b_async</td><td>[in] Boolean value to indicate whether to perform an asynchronous cleanup maintenance in the background </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDKMGRERR_NotInited gnsdk_manager_initialize was not successfully initiated </dd>
<dd>
SDKMGRERR_NoError Cleanup was successfully performed </dd></dl>

</div>
</div>
<a class="anchor" id="ga8a6f324952c2a20af22c83ae44352e36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gnsdk_error_t GNSDK_API gnsdk_manager_storage_compact </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>storage_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_bool_t&#160;</td>
          <td class="paramname"><em>b_async</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Attempts to compact the named local storage to minimize the amount of space required.</p>
<p>When the b_async parameter is set to value that equals TRUE, then the function immediately returns and the flush is performed in the background and on a separate thread.</p>
<p>Storage Names</p>
<p>Currently there are three storages managed by the SDK: </p>
<ul>
<li>
The content cache, which stores cover art and related information <a class="el" href="group___storageand_caching___general___storage_i_ds.html#gadf88bd224aa0f89a634e102a2e30d5b0">GNSDK_MANAGER_STORAGE_CONTENTCACHE</a> </li>
<li>
The query cache, which stores media identification requests <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga9f6b3beb6076bded1fcc836c206cd007">GNSDK_MANAGER_STORAGE_QUERYCACHE</a> </li>
<li>
The list storage, which stores Gracenote display lists <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga1c15b5b30aaed5c4b68687b7a96e41a2">GNSDK_MANAGER_STORAGE_LISTSCACHE</a> </li>
</ul>
<p>Use the appropriate name to perform this operation on the target storage. Each of these require a separate call to this API, with the name of the storage on which to perform the cleanup.</p>
<p>Performance</p>
<p>If <code>b_async</code> is true this API spawns a thread to perform the operation. This thread runs at the lowest priority to minimize the impact on other running queries or operations of the SDK.</p>
<p>This function can cause performance issues due to creating a large amount of disk I/O.</p>
<p>This operation can be performed on different storages at the same time, but note that performing multiple simultaneous calls will potentially further degrade performance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_name</td><td>[in] Local storage name </td></tr>
    <tr><td class="paramname">b_async</td><td>[in] Boolean value to indicate whether to perform an asynchronous cache compact in the background, on a separate thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDKMGRERR_NotInited gnsdk_manager_initialize was not successfully initiated </dd>
<dd>
SDKMGRERR_NoError Compact was successfully performed </dd></dl>

</div>
</div>
<a class="anchor" id="gaaf1702b74e05b26ab5d21b5354893212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gnsdk_error_t GNSDK_API gnsdk_manager_storage_flush </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>storage_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_bool_t&#160;</td>
          <td class="paramname"><em>b_async</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function clears all records from the named local storage.</p>
<p>When the b_async parameter is set to value that equals TRUE, then the function immediately returns and the flush is performed in the background and on a separate thread.</p>
<p>Storage Names</p>
<p>Currently there are three storages managed by the SDK: </p>
<ul>
<li>
The content cache, which stores cover art and related information <a class="el" href="group___storageand_caching___general___storage_i_ds.html#gadf88bd224aa0f89a634e102a2e30d5b0">GNSDK_MANAGER_STORAGE_CONTENTCACHE</a> </li>
<li>
The query cache, which stores media identification requests <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga9f6b3beb6076bded1fcc836c206cd007">GNSDK_MANAGER_STORAGE_QUERYCACHE</a> </li>
<li>
The list storage, which stores Gracenote display lists <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga1c15b5b30aaed5c4b68687b7a96e41a2">GNSDK_MANAGER_STORAGE_LISTSCACHE</a> </li>
</ul>
<p>Use the appropriate name to perform this operation on the target storage. Each of these require a separate call to this API, with the name of the storage on which to perform the flush.</p>
<p>Performance</p>
<p>If <code>b_async</code> is true this API spawns a thread to perform the operation. This thread runs at the lowest priority to minimize the impact on other running queries or operations of the SDK.</p>
<p>This function can cause performance issues due to creating a large amount of disk I/O.</p>
<p>This operation can be performed on different storages at the same time, but note that performing multiple simultaneous calls will potentially further degrade performance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_name</td><td>[in] Local storage name </td></tr>
    <tr><td class="paramname">b_async</td><td>[in] Boolean value to indicate whether to perform an asynchronous cache flush in the background, on a separate thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDKMGRERR_NotInited gnsdk_manager_initialize was not successfully initiated </dd>
<dd>
SDKMGRERR_NoError Flush was successfully performed </dd></dl>

</div>
</div>
<a class="anchor" id="ga70fc6e23b6bb467d7e31a8685c24fa53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gnsdk_error_t GNSDK_API gnsdk_manager_storage_location_set </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>storage_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>storage_location</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function cas be used to specify the location of the named local storage.</p>
<p>If this option is not specified the option set for the initialized storage SDK will be used. For example, if the SQLite Storage SDK has been initialized any path set using <a class="el" href="group___storageand_caching___s_q_l_i_t_e___option_keys.html#ga482c07749ff570f961e60b16f7c425a3">GNSDK_STORAGE_SQLITE_OPTION_STORAGE_FOLDER</a> and <code><a class="el" href="group___storageand_caching___s_q_l_i_t_e___functions.html#gaf8c6c387c98ac832e3e2ed260cfdce23">gnsdk_storage_sqlite_option_set()</a></code> will be used.</p>
<p>The storage location must be a valid relative or absolute path to an existing folder that has the necessary write permissions.</p>
<p><b>Important:</b></p>
<p>For Windows CE an absolute path must be used.</p>
<p>Storage Names</p>
<p>Currently there are three storages managed by the SDK: </p>
<ul>
<li>
The content cache, which stores cover art and related information <a class="el" href="group___storageand_caching___general___storage_i_ds.html#gadf88bd224aa0f89a634e102a2e30d5b0">GNSDK_MANAGER_STORAGE_CONTENTCACHE</a> </li>
<li>
The query cache, which stores media identification requests <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga9f6b3beb6076bded1fcc836c206cd007">GNSDK_MANAGER_STORAGE_QUERYCACHE</a> </li>
<li>
The list storage, which stores Gracenote display lists <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga1c15b5b30aaed5c4b68687b7a96e41a2">GNSDK_MANAGER_STORAGE_LISTSCACHE</a> </li>
</ul>
<p>Use the appropriate name to perform this operation on the target storage. Each of these require a separate call to this API, with the name of the storage on which to perform the flush.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_name</td><td>[in] Local storage name </td></tr>
    <tr><td class="paramname">storage_location</td><td>[in] String value to indicate location of storage. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDKMGRERR_NotInited gnsdk_manager_initialize was not successfully initiated </dd>
<dd>
SDKMGRERR_NoError Set location was successfully performed </dd></dl>

</div>
</div>
<a class="anchor" id="ga3739488be3c7509192f01feebf46b0e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gnsdk_error_t GNSDK_API gnsdk_manager_storage_validate </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>storage_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_bool_t *&#160;</td>
          <td class="paramname"><em>p_valid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs validation on the named local storage.</p>
<p>Storage Names</p>
<p>Currently there are three storages managed by the SDK: </p>
<ul>
<li>
The content cache, which stores cover art and related information <a class="el" href="group___storageand_caching___general___storage_i_ds.html#gadf88bd224aa0f89a634e102a2e30d5b0">GNSDK_MANAGER_STORAGE_CONTENTCACHE</a> </li>
<li>
The query cache, which stores media identification requests <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga9f6b3beb6076bded1fcc836c206cd007">GNSDK_MANAGER_STORAGE_QUERYCACHE</a> </li>
<li>
The list storage, which stores Gracenote display lists <a class="el" href="group___storageand_caching___general___storage_i_ds.html#ga1c15b5b30aaed5c4b68687b7a96e41a2">GNSDK_MANAGER_STORAGE_LISTSCACHE</a> </li>
</ul>
<p>Use the appropriate name to perform this operation on the target storage. Each of these require a separate call to this API, with the name of the storage on which to perform the flush.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_name</td><td>[in] Local storage name </td></tr>
    <tr><td class="paramname">p_valid</td><td>[in] Boolean value to indicate whether the storage is valid. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDKMGRERR_NotInited gnsdk_manager_initialize was not successfully initiated </dd>
<dd>
SDKMGRERR_NoError Validation was successfully performed </dd></dl>

</div>
</div>
<a class="anchor" id="gade9386524c23f55f4a2494df8e3615a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gnsdk_error_t GNSDK_API gnsdk_manager_storage_version_get </td>
          <td>(</td>
          <td class="paramtype">gnsdk_cstr_t&#160;</td>
          <td class="paramname"><em>storage_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gnsdk_cstr_t *&#160;</td>
          <td class="paramname"><em>p_version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the version of the named local storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_name</td><td>[in] Local storage name </td></tr>
    <tr><td class="paramname">p_version</td><td>[in] String value to indicate version. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SDKMGRERR_NotInited gnsdk_manager_initialize was not successfully initiated </dd>
<dd>
SDKMGRERR_NoError Get version was successfully performed </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</ul>
</div>
<hr \>
<p style="margin-left:2em;">
<a href="mailto:doc_feedback@gracenote.com?subject=Gracenote Documentation Feedback" title="Email comments about this topic to Gracenote Technical Publications." alt="Email comments about this topic to Gracenote Technical Publications.">How can we improve this topic?</a><br \>
Copyright &copy; 2000-present. Gracenote, Inc. All rights reserved. Generated on Tue Jan 8 2013 07:40:58.<br \>
</p>
</body>
</html>
